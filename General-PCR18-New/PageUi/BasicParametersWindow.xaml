<Window x:Class="General_PCR18.PageUi.BasicParametersWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:General_PCR18.PageUi"
        Title="Basic Parameters" Height="520" Width="780" WindowStartupLocation="CenterOwner" ResizeMode="NoResize">
    <Grid Background="#f7fafc" Margin="10">
        <Grid.Resources>
            <local:BooleanNegationConverter x:Key="Not"/>
        </Grid.Resources>
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <DataGrid x:Name="dgParams" Grid.Row="0" AutoGenerateColumns="False" CanUserAddRows="False" CanUserDeleteRows="False"
                  HeadersVisibility="Column" ColumnHeaderHeight="28" RowHeaderWidth="0" IsReadOnly="False" RowHeight="30">
            <DataGrid.Columns>
                <DataGridTextColumn Header="No." Binding="{Binding No}" Width="40" IsReadOnly="True"/>
                <DataGridTextColumn Header="Channel" Binding="{Binding Channel}" Width="90" IsReadOnly="True"/>
                <DataGridTextColumn Header="Target" Binding="{Binding Target}" Width="100"/>
                <DataGridCheckBoxColumn Header="Auto Baseli..." Width="90">
                    <DataGridCheckBoxColumn.Binding>
                        <Binding Path="AutoBaseline" Mode="TwoWay" UpdateSourceTrigger="PropertyChanged"/>
                    </DataGridCheckBoxColumn.Binding>
                </DataGridCheckBoxColumn>
                <DataGridTemplateColumn Header="Baseline St..." Width="100">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <TextBox Text="{Binding BaselineStart, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                     IsReadOnly="{Binding AutoBaseline}"
                                     IsEnabled="{Binding AutoBaseline, Converter={StaticResource Not}}"
                                     Padding="4" Margin="2" HorizontalContentAlignment="Center" VerticalContentAlignment="Center"/>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn Header="Baseline End" Width="100">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <TextBox Text="{Binding BaselineEnd, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                     IsReadOnly="{Binding AutoBaseline}"
                                     IsEnabled="{Binding AutoBaseline, Converter={StaticResource Not}}"
                                     Padding="4" Margin="2" HorizontalContentAlignment="Center" VerticalContentAlignment="Center"/>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridCheckBoxColumn Header="Auto Thres..." Binding="{Binding AutoThreshold}" Width="90"/>
                <DataGridTextColumn Header="Normalized T..." Binding="{Binding NormalizedThreshold}" Width="110"/>
                <DataGridTextColumn Header="DeltaRn Thre..." Binding="{Binding DeltaRnThreshold}" Width="110"/>
                <DataGridTextColumn Header="Lower Thresh..." Binding="{Binding LowerThreshold}" Width="110"/>
                <DataGridTextColumn Header="Upper Thre..." Binding="{Binding UpperThreshold}" Width="110"/>
            </DataGrid.Columns>
        </DataGrid>

        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Left">
            <Button x:Name="btnAdd" Content="Add Target" Width="100" Margin="0,10,10,0" Click="Add_Click"/>
            <Button x:Name="btnDelete" Content="Delete Target" Width="120" Margin="0,10,10,0" Click="Delete_Click"/>
        </StackPanel>
        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="Save" Width="120" Margin="0,10,10,0" Click="Save_Click"/>
            <Button Content="Cancel" Width="120" Margin="0,10,0,0" Click="Cancel_Click"/>
        </StackPanel>
    </Grid>
</Window>

